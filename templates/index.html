<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<link rel="stylesheet" href="{{ url_for('static',filename='assets/css/bootstrap.css') }}">
	<link rel="stylesheet" href="{{ url_for('static',filename='assets/css/bootstrap.min.css') }}">
	<link rel="stylesheet" href="{{ url_for('static',filename='assets/css/bootstrap-grid.css') }}">
	<link rel="stylesheet" href="{{ url_for('static',filename='assets/css/bootstrap-reboot.css') }}">

	<title>Testing Python</title>
	<link rel="stylesheet" href="">
</head>
<body>
	
	<div class="container">
		<div class="row">
			<div class="col md-12">
            <h2>Daftar Kontak <button type="button" class="btn btn-success  pull-right" data-toggle="modal" data-target="#modalInsert">Add Contact</button></h2>

	            <div>
				{%with messages = get_flashed_messages()%}
				{%if messages%}
				{% for message in messages %}

	    		 <div class="alert alert-success alert-dismissable" role="alert">
	    				<button type="button" class="close" data-dismiss="alert" aria-label ="close">
		        		<span aria-hidden="true">&times;</span>
			    		</button>
	        	{{message}}
		    	 </div>
			    {%endfor%}
	    		{%endif%}
	    		{%endwith%}
				</div>

				<table class="table table-hover table-dark">
			  	 <thead>
			      <tr>
			       <th scope="col">#</th>
			       <th scope="col">Nama</th>
			       <th scope="col">Nomor</th>
			       <th scope="col">Aksi</th>
			     </tr>
			    </thead>
			  		<tbody>
			  		{% for row in contact %}
			     <tr>
			       <td>{{ row.0 }}</td>
			       <td>{{ row.1 }}</td>
			       <td>{{ row.2 }}</td>
			     <td>
			      	<a href="/update/{{row.0}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modalUpdate{{row.0}}">Edit</a>
                	<a href="/delete/{{ row.0 }}" class="btn btn-danger btn-xs" onclick="return confirm('Are You Sure For Delete?')">Delete</a>
			     </td>
			     <!--[if IE]>Modal Update<![endif]-->
	<div id="modalUpdate{{row.0}}" class="modal fade" role="dialog">
	   <div class="modal-dialog">
	     <div class="modal-content">
	        <div class="modal-header">
	            <h4 class="modal-title">Please Insert Data</h4>
	         </div>
	         <div class="modal-body">
	            <form action="/update" method="POST">
	               <div class="form-group">
	               	  <input type="hidden" name="id_kontak" value="{{row.0}}">
	                  <label>Name:</label>
	                  <input type="text" name="name_update" class="form-control" placeholder="Nama Kontak" value="{{row.1}}">
	                </div>
	                <div class="form-group">
	                  <label>Phone:</label>
	                  <input type="text" name="nomor_update" class="form-control" placeholder="Nomor Kontak"value="{{row.2}}">
	                </div>
	               	<div class="form-group">
	                 	<input class="btn btn-primary" type="submit" name="submit" value="Submit">
	               	</div>
	            </form>
	        </div>
	         <div class="modal-footer">
	            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	         </div>
	      </div>
	   </div>
	</div>
			    </tr>	
			    {% else %}
			    <tr>
			    	<td>No entries</td>
			    </tr>	    
			    {% endfor %}
			  		</tbody>
				</table>

		</div>


<!-- Modal -->
	<!--[if IE]>Modal Insert<![endif]-->
	<div id="modalInsert" class="modal fade" role="dialog">
	   <div class="modal-dialog">
	     <div class="modal-content">
	        <div class="modal-header">
	            <h4 class="modal-title">Please Insert Data</h4>
	         </div>
	         <div class="modal-body">
	            <form action="/simpan" method="POST">
	               <div class="form-group">
	                  <label>Name:</label>
	                  <input type="text" name="name" class="form-control" placeholder="Nama Kontak">
	                </div>
	                <div class="form-group">
	                  <label>Phone:</label>
	                  <input type="text" name="nomor" class="form-control" placeholder="Nomor Kontak">
	                </div>
	               	<div class="form-group">
	                 	<input class="btn btn-primary" type="submit" name="submit" value="Submit">
	               	</div>
	            </form>
	        </div>
	         <div class="modal-footer">
	            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	         </div>
	      </div>
	   </div>
	</div>
	
</body>
<script src="{{ url_for('static',filename='assets/js/bootstrap.min.js') }}" type="text/javascript" charset="utf-8" async defer></script>
<script src="{{ url_for('static',filename='assets/js/bootstrap.js') }}" type="text/javascript" charset="utf-8" async defer></script>
<script src="{{ url_for('static',filename='assets/js/bootstrap.bundle.js') }}" type="text/javascript" charset="utf-8" async defer></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/jquery-3.2.1.min.js') }}"></script>
</html>